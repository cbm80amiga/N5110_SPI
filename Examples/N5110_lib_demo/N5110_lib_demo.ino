// (C)2016-18 Pawel A. Hernik
// N5110 LCD pinout from left:
// #1 RST      - Pin  9 or any digital
// #2 CS/CE    - Pin 10 or any digital
// #3 DC       - Pin  8 or any digital
// #4 MOSI/DIN - Pin 11 / SPI
// #5 SCK/CLK  - Pin 13 / SPI
// #6 VCC 3.3V
// #7 LIGHT (200ohm to GND)
// #8 GND

#include "N5110_SPI.h"
// define USESPI in above header for HW SPI version

N5110_SPI lcd(9,10,8); // RST,CS,DC

#if USESPI==1
#include <SPI.h>
#endif

//#include "fonts_all.h"
#include "small5x7bold_font.h"
#include "term8x14_font.h"
#include "digits4x7_font.h"

const uint8_t npn [] PROGMEM = {28,4,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x40, 0x20, 0x20, 0x20, 0x10, 0x10, 0x10,
0x10, 0x10, 0x10, 0x20, 0x20, 0xA0, 0x40, 0xA0, 0x10, 0x0F, 0x00, 0x00, 0x80, 0x80, 0x80, 0x80,
0xE0, 0x9C, 0x82, 0x81, 0x80, 0x80, 0x80, 0x80, 0xFE, 0xFE, 0x40, 0x20, 0x10, 0x08, 0x04, 0x02,
0x01, 0x00, 0x00, 0x00, 0x01, 0x02, 0x1C, 0xE0, 0x00, 0x00, 0x00, 0x00, 0x07, 0x38, 0x40, 0x80,
0x00, 0x00, 0x00, 0x00, 0x7F, 0x7F, 0x02, 0x04, 0x08, 0x90, 0xA0, 0xC0, 0xF0, 0x00, 0x00, 0x00,
0x80, 0x40, 0x38, 0x07, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x02, 0x04, 0x04,
0x04, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x04, 0x04, 0x05, 0x02, 0x05, 0x08, 0xF0, 0x00, 0x00
};

const uint8_t ind [] PROGMEM = {27,1,
0x40, 0x40, 0x40, 0x78, 0x04, 0x02, 0x02, 0x04, 0x78, 0x04, 0x02, 0x02, 0x04, 0x78, 0x04, 0x02,
0x02, 0x04, 0x78, 0x04, 0x02, 0x02, 0x04, 0x78, 0x40, 0x40, 0x40, 
};

void setup() 
{
  Serial.begin(9600);
  lcd.init();
}

char buf[40];
void loop() 
{
  lcd.clrScr();
  lcd.setFont(Small5x7PLBold);
  lcd.setDigitMinWd(8);
  lcd.printStr(0, 0, "ąćęłóśźż 123");
  lcd.printStr(0, 1, "ĄĆĘŁÓŚŹŻ 123");
  lcd.setDigitMinWd(6);
  lcd.printStr(0, 2, "1234567890123");
  lcd.setFontMinWd(5);
  lcd.printStr(0, 3, "abAwij1234");
  lcd.setFontMinWd(0);
  lcd.printStr(0, 4, "abAwij1234");
  lcd.setDigitMinWd(0);
  lcd.printStr(0, 5, "abAwij1234");
  delay(5000);
  
  lcd.clrScr();
  lcd.setFont(Term8x14PL);
  lcd.printStr(42, 3, "Żółw1");
  lcd.drawBitmap(npn, 3, 0);
  lcd.drawBitmap(ind, 11, 5);
  lcd.fillWin(60,0,20,2,0xaa);
  lcd.setFont(Small5x7PLBold);
  lcd.printStr(0,2,"B");
  lcd.printStr(30,0,"E");
  lcd.printStr(30,3,"C");
  lcd.printStr(5,5,"0");
  lcd.printStr(40,5,"1");
  lcd.setFont(Digits4x7);
  lcd.setDigitMinWd(4);
  
  for(int i=0; i<300; i++) {
    snprintf(buf,39,"%06d",random(1,1000000));
    lcd.printStr(55,5,buf);
    delay(150);
  }
}
